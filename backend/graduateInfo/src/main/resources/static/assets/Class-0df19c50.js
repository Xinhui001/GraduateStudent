/* empty css             *//* empty css                    *//* empty css               *//* empty css               *//* empty css                */import{l as j,o as z,c as S,a as n,d as a,b as f,w as t,n as w,q as U,s as I,v as B,x as P,y as g,k as i,z as _,B as T,C as D,G as O}from"./index-2712a98b.js";import{r as N}from"./request-0f6daecb.js";const q={class:"card",style:{"margin-bottom":"10px"}},F={class:"card",style:{"margin-bottom":"10px"}},J={style:{"margin-bottom":"10px"}},$={class:"dialog-footer"},u="/class",X={__name:"Class",setup(A){const e=j({classId:0,className:"",majorName:"",tableData:[],total:0,pageNum:1,pageSize:10,formVisible:!1,form:{classId:0,className:"",majorName:""}}),d=()=>{N.get(u+"/selectPage",{params:{pageNum:e.pageNum,pageSize:e.pageSize,className:e.className,majorName:e.majorName}}).then(s=>{var l,m;e.tableData=((l=s.data)==null?void 0:l.list)||[],e.total=((m=s.data)==null?void 0:m.total)||0})};d();const b=()=>{d()},V=()=>{e.className="",e.majorName="",d()},x=()=>{e.form={},e.formVisible=!0},y=()=>{N.request({url:e.form.classId?u+"/update":u+"/add",method:(e.form.classId,"POST"),data:e.form}).then(s=>{s.code===0?(d(),e.formVisible=!1,_.success("操作成功")):_.error(s.msg)})},C=s=>{e.form=JSON.parse(JSON.stringify(s)),e.formVisible=!0};return(s,l)=>{const m=w,r=U,p=T,v=I,h=B,c=D,k=O,E=P;return z(),S("div",null,[n("div",q,[a(m,{style:{width:"260px","margin-right":"10px"},modelValue:e.className,"onUpdate:modelValue":l[0]||(l[0]=o=>e.className=o),placeholder:"请输入班级名称查询","prefix-icon":f(g)},null,8,["modelValue","prefix-icon"]),a(m,{style:{width:"260px","margin-right":"10px"},modelValue:e.majorName,"onUpdate:modelValue":l[1]||(l[1]=o=>e.majorName=o),placeholder:"请输入专业名称查询","prefix-icon":f(g)},null,8,["modelValue","prefix-icon"]),a(r,{onClick:d,type:"primary",style:{"margin-left":"10px"}},{default:t(()=>[i("查询")]),_:1}),a(r,{onClick:V,type:"info"},{default:t(()=>[i("重置")]),_:1})]),n("div",F,[n("div",J,[a(r,{type:"primary",onClick:x},{default:t(()=>[i("新增")]),_:1})]),n("div",null,[a(v,{data:e.tableData,style:{width:"100%"}},{default:t(()=>[a(p,{prop:"classId",label:"序号",width:"70"}),a(p,{prop:"className",label:"班级名称"}),a(p,{prop:"majorName",label:"专业名称"}),a(p,{label:"操作"},{default:t(o=>[a(r,{type:"primary",onClick:G=>C(o.row),size:"small",plain:""},{default:t(()=>[i("编辑")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),n("div",null,[a(h,{"current-page":e.pageNum,"onUpdate:currentPage":l[2]||(l[2]=o=>e.pageNum=o),"page-size":e.pageSize,"onUpdate:pageSize":l[3]||(l[3]=o=>e.pageSize=o),onCurrentChange:b,background:"",layout:"prev, pager, next",total:e.total},null,8,["current-page","page-size","total"])]),a(E,{width:"35%",modelValue:e.formVisible,"onUpdate:modelValue":l[7]||(l[7]=o=>e.formVisible=o),title:"班级信息"},{footer:t(()=>[n("div",$,[a(r,{onClick:l[6]||(l[6]=o=>e.formVisible=!1)},{default:t(()=>[i("取 消")]),_:1}),a(r,{type:"primary",onClick:y},{default:t(()=>[i("保 存")]),_:1})])]),default:t(()=>[a(k,{model:e.form,"label-width":"100px","label-position":"right",style:{"padding-right":"30px"}},{default:t(()=>[a(c,{label:"班级名称"},{default:t(()=>[a(m,{modelValue:e.form.className,"onUpdate:modelValue":l[4]||(l[4]=o=>e.form.className=o),autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(c,{label:"专业名称"},{default:t(()=>[a(m,{modelValue:e.form.majorName,"onUpdate:modelValue":l[5]||(l[5]=o=>e.form.majorName=o),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}};export{X as default};
