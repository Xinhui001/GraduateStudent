/* empty css             *//* empty css                    *//* empty css               *//* empty css               *//* empty css                */import{l as h,o as k,c as E,a as n,d as a,b as z,w as l,n as S,q as w,s as I,v as U,x as B,y as P,k as s,z as f,B as T,C as D,G as O}from"./index-2712a98b.js";import{r as c}from"./request-0f6daecb.js";const q={class:"card",style:{"margin-bottom":"10px"}},F={class:"card",style:{"margin-bottom":"10px"}},J={style:{"margin-bottom":"10px"}},M={class:"dialog-footer"},u="/major",X={__name:"Major",setup($){const e=h({majorId:0,majorName:"",tableData:[],total:0,pageNum:1,pageSize:5,formVisible:!1,form:{majorId:0,majorName:""}}),i=()=>{c.get(u+"/selectPage",{params:{pageNum:e.pageNum,pageSize:e.pageSize,majorName:e.majorName}}).then(r=>{var t,d;e.tableData=((t=r.data)==null?void 0:t.list)||[],e.total=((d=r.data)==null?void 0:d.total)||0})};i();const _=()=>{i()},g=()=>{e.majorName="",e.majorId=0,i()},b=()=>{e.form={},e.formVisible=!0},N=()=>{c.request({url:e.form.majorId?u+"/update":u+"/add",method:(e.form.majorId,"POST"),data:e.form}).then(r=>{r.code===0?(i(),e.formVisible=!1,f.success("操作成功")):f.error(r.msg)})},y=r=>{e.form=JSON.parse(JSON.stringify(r)),e.formVisible=!0};return(r,t)=>{const d=S,m=w,p=T,V=I,j=U,x=D,C=O,v=B;return k(),E("div",null,[n("div",q,[a(d,{style:{width:"260px","margin-right":"10px"},modelValue:e.majorName,"onUpdate:modelValue":t[0]||(t[0]=o=>e.majorName=o),placeholder:"请输入专业名称查询","prefix-icon":z(P)},null,8,["modelValue","prefix-icon"]),a(m,{onClick:i,type:"primary",style:{"margin-left":"10px"}},{default:l(()=>[s("查询")]),_:1}),a(m,{onClick:g,type:"info"},{default:l(()=>[s("重置")]),_:1})]),n("div",F,[n("div",J,[a(m,{type:"primary",onClick:b},{default:l(()=>[s("新增")]),_:1})]),n("div",null,[a(V,{data:e.tableData,style:{width:"100%"}},{default:l(()=>[a(p,{prop:"majorId",label:"序号",width:"70"}),a(p,{prop:"majorName",label:"专业名称"}),a(p,{label:"操作"},{default:l(o=>[a(m,{type:"primary",onClick:A=>y(o.row),size:"small",plain:""},{default:l(()=>[s("编辑")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),n("div",null,[a(j,{"current-page":e.pageNum,"onUpdate:currentPage":t[1]||(t[1]=o=>e.pageNum=o),"page-size":e.pageSize,"onUpdate:pageSize":t[2]||(t[2]=o=>e.pageSize=o),onCurrentChange:_,background:"",layout:"prev, pager, next",total:e.total},null,8,["current-page","page-size","total"])]),a(v,{width:"35%",modelValue:e.formVisible,"onUpdate:modelValue":t[5]||(t[5]=o=>e.formVisible=o),title:"专业信息"},{footer:l(()=>[n("div",M,[a(m,{onClick:t[4]||(t[4]=o=>e.formVisible=!1)},{default:l(()=>[s("取 消")]),_:1}),a(m,{type:"primary",onClick:N},{default:l(()=>[s("保 存")]),_:1})])]),default:l(()=>[a(C,{model:e.form,"label-width":"100px","label-position":"right",style:{"padding-right":"30px"}},{default:l(()=>[a(x,{label:"专业名称"},{default:l(()=>[a(d,{modelValue:e.form.majorName,"onUpdate:modelValue":t[3]||(t[3]=o=>e.form.majorName=o),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}};export{X as default};
