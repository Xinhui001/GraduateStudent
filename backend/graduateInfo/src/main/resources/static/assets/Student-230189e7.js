/* empty css             *//* empty css                    *//* empty css               *//* empty css               *//* empty css                */import{l as w,o as h,c as I,a as i,d as t,b as V,w as o,n as B,q as D,s as j,v as P,x as T,y as c,k as u,z as f,A as Y,B as O,C as q,G as $}from"./index-2712a98b.js";import{r as b}from"./request-0f6daecb.js";const A={class:"card",style:{"margin-bottom":"10px"}},F={class:"card",style:{"margin-bottom":"10px"}},J={style:{"margin-bottom":"10px"}},M={class:"dialog-footer"},g="/student",Z={__name:"Student",setup(G){const e=w({studentName:"",birthdate:"",className:"",employmentStatus:"",gender:"",graduateId:0,graduationYear:"",majorName:"",tableData:[],total:0,pageNum:1,pageSize:8,formVisible:!1,form:{studentName:"",birthdate:"",className:"",employmentStatus:"",gender:"",graduateId:0,graduationYear:"",majorName:""}}),p=()=>{b.get(g+"/selectPage",{params:{pageNum:e.pageNum,pageSize:e.pageSize,studentName:e.studentName,employmentStatus:e.employmentStatus}}).then(n=>{var a,d,r,m;e.tableData=((a=n.data)==null?void 0:a.list)||[],e.total=((d=n.data)==null?void 0:d.total)||0,e.pageNum=(r=n.data)==null?void 0:r.pageNum,e.pageSize=(m=n.data)==null?void 0:m.pageSize,console.log(e.total),console.log(e.tableData)})};p();const _=()=>{p()},N=()=>{e.studentName="",p()},y=()=>{e.form={},e.formVisible=!0},S=()=>{b.request({url:e.form.graduateId?g+"/update":g+"/add",method:(e.form.graduateId,"POST"),data:e.form}).then(n=>{n.code===0?(p(),e.formVisible=!1,f.success("操作成功")):f.error(n.msg)})},x=n=>{e.form=JSON.parse(JSON.stringify(n)),e.formVisible=!0},C=()=>{Y.confirm("删除数据后无法恢复，您确认删除吗？","删除确认",{type:"warning"}).then(n=>{b.post(g+"/delete",{data:e.graduateId}).then(a=>{a.code===0?(p(),f.success("操作成功")):f.error(a.msg)})}).catch(n=>{})};return(n,a)=>{const d=B,r=D,m=O,v=j,k=P,s=q,z=$,U=T;return h(),I("div",null,[i("div",A,[t(d,{style:{width:"260px","margin-right":"10px"},modelValue:e.studentName,"onUpdate:modelValue":a[0]||(a[0]=l=>e.studentName=l),placeholder:"请输入学生姓名查询","prefix-icon":V(c)},null,8,["modelValue","prefix-icon"]),t(d,{style:{width:"260px","margin-right":"10px"},modelValue:e.employmentStatus,"onUpdate:modelValue":a[1]||(a[1]=l=>e.employmentStatus=l),placeholder:"请输入就业状态查询","prefix-icon":V(c)},null,8,["modelValue","prefix-icon"]),t(r,{onClick:p,type:"primary",style:{"margin-left":"10px"}},{default:o(()=>[u("查询")]),_:1}),t(r,{onClick:N,type:"info"},{default:o(()=>[u("重置")]),_:1})]),i("div",F,[i("div",J,[t(r,{type:"primary",onClick:y},{default:o(()=>[u("新增")]),_:1})]),i("div",null,[t(v,{data:e.tableData,style:{width:"100%"}},{default:o(()=>[t(m,{prop:"graduateId",label:"序号",width:"70"}),t(m,{prop:"studentName",label:"学生姓名"}),t(m,{prop:"gender",label:"性别"}),t(m,{prop:"majorName",label:"专业"}),t(m,{prop:"className",label:"班级"}),t(m,{prop:"graduationYear",label:"毕业年份"}),t(m,{prop:"birthdate",label:"出生日期"}),t(m,{prop:"employmentStatus",label:"就业状态"}),t(m,{prop:"isDeleted",label:"是否删除"}),t(m,{label:"操作"},{default:o(l=>[t(r,{type:"primary",onClick:E=>x(l.row),size:"small",plain:""},{default:o(()=>[u("编辑")]),_:2},1032,["onClick"]),t(r,{type:"danger",size:"small",onClick:E=>C(l.row.id),plain:""},{default:o(()=>[u("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),i("div",null,[t(k,{"current-page":e.pageNum,"onUpdate:currentPage":a[2]||(a[2]=l=>e.pageNum=l),"page-size":e.pageSize,"onUpdate:pageSize":a[3]||(a[3]=l=>e.pageSize=l),onCurrentChange:_,background:"",layout:"prev, pager, next",total:e.total},null,8,["current-page","page-size","total"])]),t(U,{width:"35%",modelValue:e.formVisible,"onUpdate:modelValue":a[12]||(a[12]=l=>e.formVisible=l),title:"学生信息"},{footer:o(()=>[i("div",M,[t(r,{onClick:a[11]||(a[11]=l=>e.formVisible=!1)},{default:o(()=>[u("取 消")]),_:1}),t(r,{type:"primary",onClick:S},{default:o(()=>[u("保 存")]),_:1})])]),default:o(()=>[t(z,{model:e.form,"label-width":"100px","label-position":"right",style:{"padding-right":"30px"}},{default:o(()=>[t(s,{label:"学生名字"},{default:o(()=>[t(d,{modelValue:e.form.studentName,"onUpdate:modelValue":a[4]||(a[4]=l=>e.form.studentName=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(s,{label:"性别"},{default:o(()=>[t(d,{modelValue:e.form.gender,"onUpdate:modelValue":a[5]||(a[5]=l=>e.form.gender=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(s,{label:"专业"},{default:o(()=>[t(d,{modelValue:e.form.majorName,"onUpdate:modelValue":a[6]||(a[6]=l=>e.form.majorName=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(s,{label:"班级"},{default:o(()=>[t(d,{modelValue:e.form.className,"onUpdate:modelValue":a[7]||(a[7]=l=>e.form.className=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(s,{label:"毕业年份"},{default:o(()=>[t(d,{modelValue:e.form.graduationYear,"onUpdate:modelValue":a[8]||(a[8]=l=>e.form.graduationYear=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(s,{label:"出生日期"},{default:o(()=>[t(d,{modelValue:e.form.birthdate,"onUpdate:modelValue":a[9]||(a[9]=l=>e.form.birthdate=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(s,{label:"就业状态"},{default:o(()=>[t(d,{modelValue:e.form.employmentStatus,"onUpdate:modelValue":a[10]||(a[10]=l=>e.form.employmentStatus=l),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}};export{Z as default};
