/* empty css             *//* empty css               *//* empty css               */import{r as N}from"./request-0f6daecb.js";import{_ as h,l as p,m as v,o as V,c as b,a as n,d as o,w as t,G as y,k as I,p as E,g as P,z as i,H as k,n as S,C as q,I as B,J as L,q as U}from"./index-2712a98b.js";const C=l=>(E("data-v-6d5014b9"),l=l(),P(),l),M={class:"login-container"},z={style:{width:"350px"},class:"login-box"},A=C(()=>n("div",{style:{"font-weight":"bold","font-size":"24px","text-align":"center","margin-bottom":"30px"}},"登录",-1)),D={__name:"Login",setup(l){const s=p({userName:"",userPassword:"",form:{userName:"",userPassword:"",role:"ADMIN"}}),_=p({username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),d=v(),c=()=>{d.value.validate(u=>{u&&N.post("/user/login",{userName:s.form.userName,userPassword:s.form.userPassword}).then(e=>{e.code===0?(localStorage.setItem("teacher-user",JSON.stringify(e.data)),i.success("登录成功"),k.push("/home")):i.error(e.msg)})})};return(u,e)=>{const m=S,a=q,f=B,g=L,w=U,x=y;return V(),b("div",null,[n("div",M,[n("div",z,[A,o(x,{model:s.form,ref_key:"formRef",ref:d,rules:_},{default:t(()=>[o(a,{prop:"userName"},{default:t(()=>[o(m,{"prefix-icon":"User",modelValue:s.form.userName,"onUpdate:modelValue":e[0]||(e[0]=r=>s.form.userName=r),placeholder:"请输入账号"},null,8,["modelValue"])]),_:1}),o(a,{prop:"userPassword"},{default:t(()=>[o(m,{"show-password":"","prefix-icon":"Lock",modelValue:s.form.userPassword,"onUpdate:modelValue":e[1]||(e[1]=r=>s.form.userPassword=r),placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),o(a,{prop:"role"},{default:t(()=>[o(g,{style:{width:"100%"},modelValue:s.form.role,"onUpdate:modelValue":e[2]||(e[2]=r=>s.form.role=r)},{default:t(()=>[o(f,{value:"ADMIN",label:"管理员"})]),_:1},8,["modelValue"])]),_:1}),o(a,null,{default:t(()=>[o(w,{type:"primary",style:{width:"100%"},onClick:c},{default:t(()=>[I("登录")]),_:1})]),_:1})]),_:1},8,["model","rules"])])])])}}},H=h(D,[["__scopeId","data-v-6d5014b9"]]);export{H as default};
